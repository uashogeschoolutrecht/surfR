---
title: "Data Analytics Using R - Introduction & Getting started"
author: "Marc A.T. Teunis"
date: "`r Sys.Date()`"
output:
  ioslides_presentation: 
    highlight: pygments
    widescreen: yes
---
<style>

.footer {
    font-size: 16pt;
    color: Black;
    font-family: 'Helvetica'
    content: attr(label);
    position: absolute;
    margin-left: auto;
    margin-right: auto;
    left: 0;
    right: 0;
    text-align:center;
    bottom: 10px;
    line-height: 1.9;
    display: block;
}

</style>

<div class="footer" style="margin-top;font-size:120%;"> 
Analytics Using R - `r Sys.Date()` </div>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      error = FALSE,
                      message = FALSE,
                      fig.width = 5, fig.height = 3)
```

```{r, root_1, include=FALSE}
## defines the root of the project for later use
require("rprojroot") || utils::install.packages("rprojroot")
library(rprojroot)
root <- find_root_file(criterion = is_rstudio_project)
```

## Credits

Much of this material has been derived in one way or the other from the work of 
Hadley Wickham and Garret Grolemund and many other. For a more elborate reference list see the REFERENCES.txt file in the project root.

Thanks to Hadley & Garret for writing the book "R for Data Science" http://r4ds.had.co.nz/ and for their work in general to innovate the R world.

Work on integration of Git/Github with R/RStudio is thouroughly and witfully documented by Jenny Brian. I also very much appreciate her work on the use of R-Markdown. See also:

https://github.com/jennybc/happy-git-with-r & http://stat545.com/block007_first-use-rmarkdown.html 

## Disclaimer & Licence

_The work in this presentation has been adapted from many sources as mentioned in slide 'Credits'. For a full reference list see the 'REFERENCES.txt' document in the github repo_ 
https://www.github.com/uashogeschoolutrecht/surfr

The work presented here may be shared, remixed or adapted as long as the original references and the authors of this document are mentioned in the redistibution: CC BY-SA

## Programme

 * Use case "......" 
 * Demo / Hands-on 1; Intro & Getting started 
 * Demo / Hands-on 2; Github & RStudio - __EXERCISE 1__
 
 ------ break ------
 
 * Demo / Hands-on 2; Import data with `{readr}` & `{readxl}`
 * Demo / Hands-on 3; Visualizations with `{ggplot2}` - __EXERCISE 2__  
 * Demo / Hands-on 4; Data wrangling with `{dplyr}` - __EXERCISE 3__
 
 ------ break ------
 
 * Use Case: "Open Analytics" 30 min.
 * Demo / Hands-on 5; `{rmarkdown}` for reproducibility
 * (Reserve: Hands-on 6 Building R packages

# Part I; Introduction and getting started

## Why R?
 
 * Who considers him/herself as an experienced R user?
 * Who has never wrote a line of (R)code in his/her life?
 * ...
 * ...
 * ...
 * Please introduce yourself to your neighbour, explain why you chose this workshop and how you use (or are planning to use...) R

## Getting to R

 * R is free (Open Scource)
 * RStudio is an Integrated Development Environment (IDE)
 * Can be installed as stand-alone or server
 * We use a server instnace on SURFsara HPC Cloud
 * login with recieved credentials at https://data.innovativetesting.nl
 * We will get to how to access the materials used in this workshop in a bit...

## R is much much more than statistics

 * R is a (Statistical) Programming Language
 * Fully equipped to handle a plethora of data 'problems'
 * R is object oriented
 * There are many packages 
 * RStudio has many advantages and links to external tools: Python and others, Shiny, Spark SQL, etc.
 
## R packages

 * Comprehensive R Archive Network (CRAN)
 * BIOCONDUCTOR
 * github.com
 * Local repositories
 * MRAN (Microsoft R Open)

## Installing packages

```{r, eval=FALSE}
## from CRAN 
install.packages("lavaan")

## install from github
devtools::install_github("uashogeschoolutrecht/surfR")

## install from BIOCONDUCTOR (as of BIOCONDUCTOR Version 3.8 - R 3.5.1)
BiocManager::install("DESeq2")
```

## There are many packages
There is bound to be one or multiple packages that suit your needs:
```{r, echo=FALSE, eval=FALSE}
source(file = file.path(root, 
                        "code",
                        "r_packages_graph.R"))
plot
```




## R is used by many (large) companies 
 
 * Ford
 * Facebook
 * Roche
 * Google
 * ...
 
## what is the difference between R and Python, and which  

```{r, echo=FALSE}
knitr::include_graphics(path = file.path(root,
                                         "images",
                                         "r_batman_python_superman.jpg"))
```
 
## Tidyverse 
```{r, eval=FALSE}
install.packages("tidyverse")
```
```{r, echo=FALSE}
library(tidyverse)
knitr::include_graphics(path = file.path(root,
                                         "images",
                                         "tidyverse_sticker.png"))
```

## Core packages of the `{tidyverse}`

_in bold are the packages mainly used in this workshop_

 * **`{ggplot2}`** for data visualisation.
 * **`{dplyr}`**   for data manipulation.
 * **`{tidyr}`**   for data tidying.
 * **`{readr}`**   for data import.
 * **`{purrr}`**   for functional programming.
 * **`{tibble}`**  for tibbles, a modern re-imagining of data frames.
 * `{stringr}` for strings.
 * `{forcats}` for factors.

## Other `{tidyverse}` packages that are not loaden by default

## Working with specific types of vectors:
  - `{hms}`, for times.
  - `{lubridate}`, for date/times.

## Importing other types of data:
  - `{feather}`, for sharing with Python and other languages.
  - `{haven}`, for SPSS, SAS and Stata files.
  - `{httr}`, for web apis.
  - `{jsonlite}` for JSON.
  - **`{readxl}`**, for .xls and .xlsx files.
  - `{rvest}`, for web scraping.
  - `{xml2}`, for XML.

## Modelling
  - `{modelr}`, for modelling within a pipeline
  - `{broom}`, for turning models into tidy data

## RStudio

 * Software to be more creative/prodcutive with R
 * Open source and commercial variants
 * Local and server versions
 * Shiny and Shiny server
 * Tidyverse and many packages
 * Community directed
 * Webinars

## File types

__There are multiple types of files that you can work with in R__

# Getting started - getting the workshop materials

## Cloning the Workshop materials from www.github.com

 1. Create an account on www.github.com
 2. Login in to github.com and go to 
 www.github.com/uashogeschoolutrecht/surfr
 3. Copy the **url** address
 4. Start a new project in RStudio-Server,
 choose _"Version Control"_ 
 5. Choose _`New Project`_, then 
 6. Choose _`Version Control`_, then 
 7. Copy the **url** from the clipboard to the RStudio **url** field, press enter
 8. Let the clone finish
 
**Follow the steps above first before continuing**

## Workflow in RStudio
 
 * I always create a repo (private or public on github)
 * Than I clone this repo to RStudio (local or RStudio Server)
 * I start developing
 * Commit early, commit often, push regularly
 * One 'problem', one commit

## Part II; Integration between git/github & RStudio 

**EXERCISE 1**

Open the file **"2_exercise_1_github_rstudio.html"** and do the exercise










 



